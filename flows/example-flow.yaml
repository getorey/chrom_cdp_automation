# Example Flow: Wikipedia Search Demonstration
# This flow demonstrates all available action types in the Chrome CDP Automation system
#
# ACTION TYPES:
# - navigate: Navigate to a specific URL
# - wait: Wait for a specified number of milliseconds
# - type: Type text into an input field
# - click: Click on an element (CSS/XPath selector)
# - click_at: Click at specific screen coordinates {x, y}
# - select: Select an option from a dropdown element
#
# FIELD DESCRIPTIONS:
# - step_no: Sequential step number (required)
# - action: Type of action to perform (required, one of: navigate, click, type, wait, select)
# - target: CSS selector, XPath, URL, or timeout value in milliseconds (required)
# - value: Text to type or option value to select (optional, for type/select actions only)
# - description: Human-readable description of the step (required)
# - timeout: Maximum time to wait for the action in seconds (optional, default: 30)

name: Wikipedia Search Demo
description: Demonstrates all action types by searching on Wikipedia and selecting a language
url_prefix: https://en.wikipedia.org

steps:
  # Step 1: Navigate to Wikipedia homepage
  # Action: navigate - Opens the specified URL in the browser
  # Target: Full URL to navigate to
  - step_no: 1
    action: navigate
    target: https://en.wikipedia.org/wiki/Main_Page
    description: Navigate to Wikipedia homepage
    timeout: 30

  # Step 2: Wait for page to fully load
  # Action: wait - Pauses execution for specified milliseconds
  # Target: Milliseconds to wait (1000 = 1 second)
  - step_no: 2
    action: wait
    target: "2000"
    description: Wait 2 seconds for page to load completely

  # Step 3: Type search term into the search box
  # Action: type - Enters text into an input field
  # Target: CSS selector for the input element
  # Value: Text to type into the field
  - step_no: 3
    action: type
    target: '#searchInput'
    value: Artificial Intelligence
    description: Type "Artificial Intelligence" into the search box
    timeout: 10

  - step_no: 4
    action: click_at
    target: "any-placeholder"  # target은 필수지만 사용되지 않음
    coordinates:
      x: 380      # 화면 X 좌표 (픽셀)
      y: 64      # 화면 Y 좌표 (픽셀)
    description: Click at position (500, 300)
    timeout: 5

  # Step 4: Click the search button
  # Action: click - Clicks on an element
  # Target: CSS selector for clickable element
#  - step_no: 4
#    action: press
#    target: 'Enter'
#    description: Press Enter
#    timeout: 10

  # Step 5: Wait for search results to load
  # Action: wait - Pauses execution for specified milliseconds
  # Target: Milliseconds to wait
  - step_no: 5
    action: wait
    target: "2000"
    description: Wait 2 seconds for search results to load

  # Step 6: Navigate to the first search result
  # Action: navigate - Navigate to search result page
  # Target: URL of the search result
  - step_no: 6
    action: navigate
    target: https://naver.com
    description: Navigate to the Artificial Intelligence article
    timeout: 30

  # Step 7: Wait for article to load
  # Action: wait - Pauses execution for specified milliseconds
  # Target: Milliseconds to wait
  - step_no: 7
    action: wait
    target: "2000"
    description: Wait 2 seconds for article to load

  # Step 8: Navigate to a page with a select dropdown
  # Action: navigate - Navigate to Wikipedia Special:Random with language options
  # Target: URL with language selector
  - step_no: 8
    action: navigate
    target: https://en.wikipedia.org/wiki/Special:Random
    description: Navigate to a random Wikipedia page (often has language links)
    timeout: 30

  # Step 9: Wait for page to load
  # Action: wait - Pauses execution for specified milliseconds
  # Target: Milliseconds to wait
  - step_no: 9
    action: wait
    target: "2000"
    description: Wait 2 seconds for page to load

  # Step 10: Navigate to Wikipedia language selection page
  # Action: navigate - Navigate to a page with a select dropdown
  # Target: URL with language selector
  - step_no: 10
    action: navigate
    target: https://www.wikipedia.org
    description: Navigate to Wikipedia portal with language dropdown
    timeout: 30

  # Step 11: Wait for portal page to load
  # Action: wait - Pauses execution for specified milliseconds
  # Target: Milliseconds to wait
  - step_no: 11
    action: wait
    target: "2000"
    description: Wait 2 seconds for portal page to load

  # Step 12: Select an option from the language dropdown
  # Action: select - Selects an option from a <select> dropdown
  # Target: CSS selector for the <select> element
  # Value: The option value to select (must match the value attribute of the option)
  # Note: This demonstrates the select action type. The exact selector and value
  #       may need adjustment based on the actual Wikipedia portal page structure.
  - step_no: 12
    action: select
    target: 'select#searchLanguage'
    value: en
    description: Select "English" from the language dropdown
    timeout: 10

  # Step 13: Wait after selection
  # Action: wait - Pauses execution for specified milliseconds
  # Target: Milliseconds to wait
  # Step 13: Click at specific coordinates (demonstrates click_at action)
  # Action: click_at - Clicks at specific screen coordinates (x, y)
  # Target: Not used for click_at (set to empty string or placeholder)
  # Coordinates: {x: number, y: number} - Screen coordinates to click
  - step_no: 13
    action: click_at
    target: "coordinate-click"
    coordinates:
      x: 500
      y: 300
    description: Click at screen coordinates (500, 300) - e.g., to click a specific position
    timeout: 5

  # Step 14: Wait after coordinate click
  # Action: wait - Pauses execution for specified milliseconds
  # Target: Milliseconds to wait
  - step_no: 14
    action: wait
    target: "1000"
    description: Wait 1 second after coordinate click







#steps:
#  - action: click
#    target: "button#open-login-popup"  # 메인 창에서 팝업 열기
#  
#  - action: wait_for_popup
#    timeout: 3000                      # 팝업 감지 및 자동 전환
#  
#  - action: type
#    target: "input#email"              # ✅ 팝업창에서 입력
#    value: "user@example.com"
#  
#  - action: click
#    target: "button#submit"            # ✅ 팝업창에서 클릭
#  
#  - action: close_tab
#    return_to_previous: true           # 원래 창으로 복귀